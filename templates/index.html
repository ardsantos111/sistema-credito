<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Contrato de Venda</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>Nova Venda</h1>
            <nav>
                <a href="{{ url_for('home') }}">Dashboard</a>
                <a href="{{ url_for('logout') }}">Sair</a>
            </nav>
        </header>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="flashes">
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <form action="{{ url_for('gerar_contrato') }}" method="post">
            <section class="form-section">
                <h2>Dados da Venda</h2>
                <div class="form-group">
                    <label for="ov_numero">Nº da Ordem de Venda:</label>
                    <input type="text" id="ov_numero" name="ov_numero" required>
                </div>
                <div class="form-group">
                    <label for="descricao_venda">Descrição da Venda (Produtos):</label>
                    <textarea id="descricao_venda" name="descricao_venda" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="forma_pagamento">Forma de Pagamento:</label>
                    <input type="text" id="forma_pagamento" name="forma_pagamento" required>
                </div>
                <div class="form-group">
                    <label for="observacoes">Observações (Opcional):</label>
                    <textarea id="observacoes" name="observacoes" rows="3"></textarea>
                </div>
            </section>

            <section class="form-section">
                <h2>Dados do Cliente</h2>
                <div class="form-group">
                    <label for="nome_cliente">Nome do Cliente:</label>
                    <input type="text" id="nome_cliente" name="nome_cliente" required>
                </div>
                <div class="form-group">
                    <label for="cpf_cliente">CPF do Cliente:</label>
                    <input type="text" id="cpf_cliente" name="cpf_cliente" required>
                </div>
                <div class="form-group">
                    <label for="rua_cliente">Rua:</label>
                    <input type="text" id="rua_cliente" name="rua_cliente" required>
                </div>
                <div class="form-group">
                    <label for="numero_cliente">Número:</label>
                    <input type="text" id="numero_cliente" name="numero_cliente" required>
                </div>
                <div class="form-group">
                    <label for="complemento_cliente">Complemento:</label>
                    <input type="text" id="complemento_cliente" name="complemento_cliente">
                </div>
                <div class="form-group">
                    <label for="bairro_cliente">Bairro:</label>
                    <input type="text" id="bairro_cliente" name="bairro_cliente" required>
                </div>
                <div class="form-group-inline">
                    <div class="form-group">
                        <label for="cidade_cliente">Cidade:</label>
                        <input type="text" id="cidade_cliente" name="cidade_cliente" required>
                    </div>
                    <div class="form-group">
                        <label for="estado_cliente">Estado:</label>
                        <input type="text" id="estado_cliente" name="estado_cliente" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cep_cliente">CEP:</label>
                    <input type="text" id="cep_cliente" name="cep_cliente" required>
                </div>
            </section>

            <section class="form-section">
                <h2>Valores e Parcelas</h2>
                <div class="form-group">
                    <label for="valor_total">Valor Total da Venda:</label>
                    <input type="number" id="valor_total" name="valor_total" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="valor_entrada">Valor da Entrada:</label>
                    <input type="number" id="valor_entrada" name="valor_entrada" step="0.01" value="0.00">
                </div>
                <div class="form-group">
                    <label for="num_parcelas">Número de Parcelas:</label>
                    <input type="number" id="num_parcelas" name="num_parcelas" required>
                </div>
            </section>

            <button type="submit" class="btn btn-primary">Gerar Contrato e Salvar</button>
        </form>
    </div>
</body>
</html>