{% extends "base.html" %}

{% block title %}Dashboard - OC CDC{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block extra_css %}
<style>
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacer-lg);
        margin-bottom: var(--spacer-2xl);
    }
    
    .stat-card {
        border-radius: var(--radiusLarge);
        padding: var(--spacer-2xl);
        text-align: center;
        transition: transform 0.3s, background-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    body[data-theme="light"] .stat-card {
        background: white;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }
    
    body[data-theme="dark"] .stat-card {
        background: #1e1e1e;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    
    .stat-card:hover {
        transform: translateY(-5px);
    }
    
    .stat-icon {
        font-size: 3rem;
        margin-bottom: var(--spacer-base);
    }
    
    .stat-number {
        font-size: 2.5rem;
        font-weight: var(--font-weight-bold);
        margin: var(--spacer-base) 0;
    }
    
    .stat-label {
        font-size: var(--font-size-lg);
        transition: color 0.3s ease;
    }
    
    body[data-theme="light"] .stat-label {
        color: #666;
    }
    
    body[data-theme="dark"] .stat-label {
        color: #aaa;
    }
    
    .companies-section {
        border-radius: var(--radiusLarge);
        padding: var(--spacer-2xl);
        margin-top: var(--spacer-2xl);
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    body[data-theme="light"] .companies-section {
        background: white;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    }
    
    body[data-theme="dark"] .companies-section {
        background: #1e1e1e;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }
    
    .companies-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--spacer-base);
        margin-top: var(--spacer-base);
    }
    
    .company-card {
        border-radius: var(--radiusSmall);
        padding: var(--spacer-base);
        transition: border-color 0.3s, background-color 0.3s ease;
    }
    
    body[data-theme="light"] .company-card {
        border: 1px solid #eee;
    }
    
    body[data-theme="dark"] .company-card {
        border: 1px solid #333;
        background: #2d2d2d;
    }
    
    .company-card:hover {
        border-color: #4e73df;
    }
    
    .company-name {
        font-weight: var(--font-weight-bold);
        margin-bottom: var(--spacer-xs);
        transition: color 0.3s ease;
    }
    
    body[data-theme="light"] .company-name {
        color: #333;
    }
    
    body[data-theme="dark"] .company-name {
        color: #e0e0e0;
    }
    
    .company-cnpj {
        font-size: var(--font-size-sm);
        transition: color 0.3s ease;
    }
    
    body[data-theme="light"] .company-cnpj {
        color: #666;
    }
    
    body[data-theme="dark"] .company-cnpj {
        color: #aaa;
    }
    
    .status-badge {
        padding: var(--spacer-xs) var(--spacer-sm);
        border-radius: 12px;
        font-size: var(--font-size-xs);
        display: inline-flex;
        align-items: center;
        gap: var(--spacer-xxs);
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon" style="color: #4e73df;">
                <i class="fas fa-building"></i>
            </div>
            <div class="stat-label">Empresas</div>
            <div class="stat-number">{{ companies|length }}</div>
            <div class="stat-label">ativas</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #1cc88a;">
                <i class="fas fa-users"></i>
            </div>
            <div class="stat-label">Usuários</div>
            <div class="stat-number">0</div>
            <div class="stat-label">cadastrados</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon" style="color: #36b9cc;">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <div class="stat-label">Vendas</div>
            <div class="stat-number">0</div>
            <div class="stat-label">este mês</div>
        </div>
    </div>
    
    <div class="companies-section">
        <h2><i class="fas fa-building"></i> Suas Empresas</h2>
        <p class="mb-4">Selecione uma empresa abaixo para gerenciar suas operações:</p>
        
        <div class="companies-list">
            {% for company in companies %}
            <div class="company-card">
                <div class="company-name">{{ company[1] }}</div>
                <div class="company-cnpj">CNPJ: {{ company[2] or 'Não informado' }}</div>
                <div class="company-status mt-3">
                    <span class="status-badge" style="background: #d4edda; color: #155724;">
                        <i class="fas fa-check-circle"></i> Ativa
                    </span>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}